<!DOCTYPE html>
<!SPDX-FileCopyrightText: 2023 Ken Inaba rightman20020920@yahoo.co,jp>
<!#-Licence-Identifire: BSD-3-Clause>

<html>
<head>
	<title>ルーレット</title>
</head>

<body bgcolor="#FFE5A">
	
	<center>
	<font size = "10">
	<br>
	<hi>当たりペットボトルは、これ！</hi>
	<br>
	<input type="button" value="START" onclick="START()" />
    <div id="kakusu" style="display: block;">
		<p id="output"></p>
	</div>
    </font>
    <br>
    <button id="1" type="button" onclick="hyouzi()" >
        <font size="1">
            <p id="kirikae">
            </p>
        </font>
    </button>
    <br>
    <font size="5">
        <div id="inputForm" style="display: none;">
            ため：<input type="number" id="tame" value="5" required minlength="4" maxlength="8" size="10" /><br>
            最大値：<input type="number" id="max" value="10" required minlength="4" maxlength="8" size="10" /><br>
            最小値：<input type="number" id="mini" value="5" required minlength="4" maxlength="8" size="10" />
            <br>
            <audio  autoplay id="audio_1" controls>
                <source src = "music/dlamm.mp3" type = "audio/mp3">
            </audio>
            <br>
            <audio  autoplay id="audio_2" controls>
                <source src = "music/ja-n.mp3" type = "audio/mp3">
            </audio>
        </div>
    
    <input type="button" value="メニュー" onclick="menyu()" />
	</font>	
	</center>
	<script>
    let i=0;
    let start=0;
    let sw=0;
    let sw_2=1;
    document.getElementById("kirikae").innerHTML ="隠す";
    function showrandom(){
        const mini= parseInt(document.getElementById("mini").value);
        const max= parseInt(document.getElementById("max").value);
        var rand=1+max-mini;
        var random_1 = Math.floor( Math.random() * rand)+mini;
        document.getElementById("output").style.color="red";
        document.getElementById("output").innerHTML =random_1;
        
    }
    function START(){
        start=1;
        document.getElementById("audio_1").currentTime = 0;
        document.getElementById("audio_2").currentTime = 0;
        console.log(start);
    }
    function guruguru(){
        var random_0 = Math.floor( Math.random() * 8)+1;
        if(start==1){
            document.getElementById("audio_1").play();
            document.getElementById("audio_2").pause();
            document.getElementById("output").style.color="black";
            document.getElementById("output").innerHTML =random_0;
            i++;
        }
        if(i>100*parseInt(document.getElementById("tame").value)){
             start=0;
             i=0;
             document.getElementById("audio_1").pause();
             document.getElementById("audio_2").play();
            showrandom();
        }
    }
    setInterval('guruguru()',10)
    
    function menyu(){
        if(sw==0){
            document.getElementById("inputForm").style.display = "block";
            sw=1;
        }else{
            sw=0;
            document.getElementById("inputForm").style.display = "none";
        }
    }
function hyouzi(){
     
	if(sw_2==0){
            document.getElementById("kakusu").style.display = "block";
	        document.getElementById("kirikae").innerHTML ="隠す";
            sw_2=1;
        }else{
            sw_2=0;
            document.getElementById("kakusu").style.display = "none";
	        document.getElementById("kirikae").innerHTML ="表示";
        }
    }
    </script>

</body>

</html>
